import{S as qt,i as St,s as Bt,e as a,t as c,k as o,c as s,a as l,g as u,d as r,n as i,b as d,K as Dt,f as F,E as e,I as Je}from"../../chunks/vendor-f01f4eb0.js";function It(lt){let g,Q,K,_,X,Ne=new Date(Gt).toISOString().slice(0,10)+"",Y,O,t,$,m,ee,te,ne,ae,P,ot=`<code class="language-undefined">  pip install uvicorn
  pip install gunicorn
  pip freeze &gt; requirements.txt
  git add .
  git commit -m &quot;test&quot;
  git push origin master</code>`,se,h,re,le,oe,ie,w,it=`<code class="language-undefined">ssh -i key.pem ubuntu@gobella.kr
cd srv
git clone ~~~.git</code>`,ce,E,ue,pe,de,ge,x,ct=`<code class="language-undefined">cd fast-api[\uD074\uB860\uD55C \uD504\uB85C\uC81D\uD2B8\uD3F4\uB354]
python -m venv venv
source venv/bin/activate 
(venv) pip install -r requirements.txt
(venv) uvicorn blog.main:app --host 0.0.0.0 --port 8003</code>`,fe,b,ve,_e,me,he,y,ut=`<code class="language-undefined">(venv) gunicorn blog.main:app -w 4 -k uvicorn.workers.UvicornWorker
(venv) sudo vi /etc/systemd/system/gunicorn.socket</code>`,Ee,D,be,ke,R,pt=`<code class="language-undefined">[Unit]
Description=gunicorn socket

[Socket]
ListenStream=/run/gunicorn.sock

[Install]
WantedBy=sockets.target</code>`,Pe,I,we,xe,T,dt=`<code class="language-undefined">sudo vi /etc/systemd/system/gunicorn.service

[Unit]
Description=gunicorn daemon
Requires=gunicorn.socket
After=network.target

[Service]
User=root
Group=deploy
WorkingDirectory=/home/ubuntu/srv/fast-api   # \uD504\uB85C\uC81D\uD2B8 \uACBD\uB85C
ExecStart=/home/ubuntu/srv/fast-api/venv/bin/gunicorn blog.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind unix:/run/gunicorn.sock   # \uC55E\uBD80\uBD84\uC740 venv\uC548\uC5D0 gunicorn\uBAA8\uB4C8 \uD30C\uC77C\uC774 \uC788\uB294 \uACBD\uB85C</code>`,ye,U,Re,Te,H,gt=`<code class="language-undefined">sudo systemctl start gunicorn.socket   # \uC18C\uCF13 \uC2DC\uC791
sudo systemctl enable gunicorn.socket   # \uC18C\uCF13 \uD65C\uC131\uD654

sudo systemctl status gunicorn.socket  # \uC18C\uCF13 \uC0C1\uD0DC \uD655\uC778
sudo systemctl status gunicorn  # \uC0C1\uD0DC \uD655\uC778</code>`,He,G,Le,Me,L,ft=`<code class="language-undefined">sudo systemctl daemon-reload
sudo systemctl restart gunicorn</code>`,qe,W,Se,Be,M,vt=`<code class="language-undefined">apt-get install nginx
cd /etc/nginx/sites-available/ 
cp mysite.conf fastapi.conf   # \uAE30\uC874 conf\uD30C\uC77C \uC911 \uD558\uB098\uB97C \uBCF5\uC0AC
vi fastapi.conf   # \uC218\uC815</code>`,De,z,Ie,Ue,q,_t=`<code class="language-undefined">server &#123;
    listen 8003;
    server_name gobella.kr;
    charset utf-8;

    location / &#123;
        proxy_pass http://unix:/run/gunicorn.sock;
    &#125;
&#125;</code>`,Ge,j,We,ze,S,mt='<code class="language-undefined">sudo ln -sf /etc/nginx/sites-available/fastapi.conf /etc/nginx/sites-enabled/fastapi.conf</code>',je,A,Ae,Ce,B,ht=`<code class="language-undefined">nginx -t # nginx \uC720\uD6A8\uD55C\uC9C0 \uD655\uC778
service nginx restart # nginx \uC7AC\uC2DC\uC791</code>`,Fe,f,Ke,Oe,Ve,k,Qe;return{c(){g=a("h1"),Q=c(rt),K=o(),_=a("p"),X=c("Posting : "),Y=c(Ne),O=o(),t=a("div"),$=c(`\uC548\uB155\uD558\uC138\uC694..   
fastapi\uC11C\uBC84\uB97C gunicorn, uvicorn \uC73C\uB85C aws ec2\uC5D0 \uBC30\uD3EC\uB97C \uD574\uBCF4\uACA0\uC2B5\uB2C8\uB2E4.   
`),m=a("p"),ee=c("\uC6B0\uC120 \uB85C\uCEEC\uC5D0\uC11C \uC791\uC5C5\uD55C \uD504\uB85C\uC81D\uD2B8 \uD30C\uC77C\uC744 git\uC5D0 \uC5C5\uB85C\uB4DC \uD569\uB2C8\uB2E4."),te=a("br"),ne=c(`
pip freeze > requirements.txt \uD558\uB294 \uAC83\uB3C4 \uC78A\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.`),ae=o(),P=a("pre"),se=o(),h=a("p"),re=c("\uB2E4\uC74C\uC740 \uD130\uBBF8\uB110\uB85C \uB4E4\uC5B4\uAC00 aws ec2\uC5D0 \uC6D0\uACA9\uC73C\uB85C \uC811\uC18D\uD569\uB2C8\uB2E4."),le=a("br"),oe=c(`
git\uD504\uB85C\uC81D\uD2B8\uB97C \uD074\uB860 \uD569\uB2C8\uB2E4.`),ie=o(),w=a("pre"),ce=o(),E=a("p"),ue=c("\uB2E4\uC74C\uC740 uvicorn \uC73C\uB85C \uAC1C\uBC1C\uC11C\uBC84\uB97C \uD55C\uBC88 \uC2E4\uD589\uD574 \uBCF4\uB3C4\uB85D \uD558\uACA0\uC2B5\uB2C8\uB2E4."),pe=a("br"),de=c(`
\uD504\uB85C\uC81D\uD2B8 \uACBD\uB85C\uB294 /home/ubuntu/srv/fast-api \uC785\uB2C8\uB2E4.`),ge=o(),x=a("pre"),fe=o(),b=a("p"),ve=c("\uC704 \uB0B4\uC6A9\uC774 \uC815\uC0C1 \uC218\uD589\uC774 \uB418\uBA74 gobella.kr:8003 \uC73C\uB85C \uB4E4\uC5B4\uAC00 \uC798 \uB3D9\uC791\uD558\uB294\uC9C0 \uD655\uC778 \uD569\uB2C8\uB2E4."),_e=a("br"),me=c(`
\uC798 \uB3D9\uC791 \uB418\uB294\uC9C0 \uD655\uC788\uD588\uB2E4\uBA74 \uC885\uB8CC \uD6C4 Gunicorn\uC73C\uB85C \uC2E4\uD589 \uD558\uC5EC \uBD05\uC2DC\uB2E4.`),he=o(),y=a("pre"),Ee=o(),D=a("p"),be=c("\uC18C\uCF13 \uD30C\uC77C\uC5D0 \uB2E4\uC74C\uACFC \uAC19\uC740 \uB0B4\uC6A9\uC744 \uBD99\uC5EC\uB123\uAE30 \uD569\uB2C8\uB2E4."),ke=o(),R=a("pre"),Pe=o(),I=a("p"),we=c("\uADF8\uB7F0 \uB2E4\uC74C systemd\uC5D0 service\uD30C\uC77C\uC744 \uC791\uC131\uD569\uB2C8\uB2E4."),xe=o(),T=a("pre"),ye=o(),U=a("p"),Re=c("\uADF8\uB7F0 \uB2E4\uC74C \uD558\uB2E8\uC758 \uBA85\uB839\uC5B4\uB85C gunicorn \uC18C\uCF13\uC744 \uC2DC\uC791 \uBC0F \uD65C\uC131\uD654 \uD569\uB2C8\uB2E4."),Te=o(),H=a("pre"),He=o(),G=a("p"),Le=c("\uADF8\uB7F0 \uB2E4\uC74C \uB370\uBAAC \uC7AC\uC2DC\uC791\uACFC gunicorn\uC7AC\uC2DC\uC791 \uD569\uB2C8\uB2E4."),Me=o(),L=a("pre"),qe=o(),W=a("p"),Se=c("\uB2E4\uC74C\uC740 nginx\uC124\uC815\uC785\uB2C8\uB2E4. \uC774\uBBF8 \uC124\uCE58\uAC00 \uB418\uC5B4\uC788\uC9C0 \uC54A\uC73C\uBA74 \uC124\uCE58\uBD80\uD130 \uC9C4\uD589\uD558\uC138\uC694."),Be=o(),M=a("pre"),De=o(),z=a("p"),Ie=c("fastapi.conf \uB0B4\uC6A9\uC744 \uC544\uB798\uC640 \uAC19\uC774 \uC218\uC815\uD569\uB2C8\uB2E4."),Ue=o(),q=a("pre"),Ge=o(),j=a("p"),We=c("\uC218\uC815\uC774 \uC644\uB8CC \uB418\uC5C8\uC73C\uBA74 \uC2EC\uBCFC\uB9AD \uB9C1\uD06C\uB97C \uAC78\uC5B4 \uC90C\uB2C8\uB2E4."),ze=o(),S=a("pre"),je=o(),A=a("p"),Ae=c("sites-enabled \uD3F4\uB354 \uB0B4\uC5D0 fastapi.conf \uD30C\uC77C\uC774 \uC0DD\uC131\uB41C \uAC83\uC744 \uD655\uC778 \uD6C4 \uD558\uB2E8\uC758 \uBA85\uB839\uC5B4\uB97C \uC785\uB825 \uD558\uC5EC \uCD5C\uC885 \uD655\uC778 \uD569\uB2C8\uB2E4."),Ce=o(),B=a("pre"),Fe=o(),f=a("p"),Ke=c("\uBAA8\uB4E0 \uC791\uC5C5\uC774 \uC644\uB8CC \uB418\uC5C8\uC73C\uBBC0\uB85C gobella.kr:8003\uC73C\uB85C \uC811\uC18D\uD558\uC5EC fastapi\uB85C \uB9CC\uB4E0 restapi\uAC00 \uC798 \uB3D9\uC791\uD558\uB294\uC9C0 \uD655\uC778\uD574 \uBD05\uC2DC\uB2E4."),Oe=a("br"),Ve=o(),k=a("img"),this.h()},l(p){g=s(p,"H1",{});var v=l(g);Q=u(v,rt),v.forEach(r),K=i(p),_=s(p,"P",{});var Ze=l(_);X=u(Ze,"Posting : "),Y=u(Ze,Ne),Ze.forEach(r),O=i(p),t=s(p,"DIV",{class:!0});var n=l(t);$=u(n,`\uC548\uB155\uD558\uC138\uC694..   
fastapi\uC11C\uBC84\uB97C gunicorn, uvicorn \uC73C\uB85C aws ec2\uC5D0 \uBC30\uD3EC\uB97C \uD574\uBCF4\uACA0\uC2B5\uB2C8\uB2E4.   
`),m=s(n,"P",{});var V=l(m);ee=u(V,"\uC6B0\uC120 \uB85C\uCEEC\uC5D0\uC11C \uC791\uC5C5\uD55C \uD504\uB85C\uC81D\uD2B8 \uD30C\uC77C\uC744 git\uC5D0 \uC5C5\uB85C\uB4DC \uD569\uB2C8\uB2E4."),te=s(V,"BR",{}),ne=u(V,`
pip freeze > requirements.txt \uD558\uB294 \uAC83\uB3C4 \uC78A\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.`),V.forEach(r),ae=i(n),P=s(n,"PRE",{class:!0});var Et=l(P);Et.forEach(r),se=i(n),h=s(n,"P",{});var Z=l(h);re=u(Z,"\uB2E4\uC74C\uC740 \uD130\uBBF8\uB110\uB85C \uB4E4\uC5B4\uAC00 aws ec2\uC5D0 \uC6D0\uACA9\uC73C\uB85C \uC811\uC18D\uD569\uB2C8\uB2E4."),le=s(Z,"BR",{}),oe=u(Z,`
git\uD504\uB85C\uC81D\uD2B8\uB97C \uD074\uB860 \uD569\uB2C8\uB2E4.`),Z.forEach(r),ie=i(n),w=s(n,"PRE",{class:!0});var bt=l(w);bt.forEach(r),ce=i(n),E=s(n,"P",{});var J=l(E);ue=u(J,"\uB2E4\uC74C\uC740 uvicorn \uC73C\uB85C \uAC1C\uBC1C\uC11C\uBC84\uB97C \uD55C\uBC88 \uC2E4\uD589\uD574 \uBCF4\uB3C4\uB85D \uD558\uACA0\uC2B5\uB2C8\uB2E4."),pe=s(J,"BR",{}),de=u(J,`
\uD504\uB85C\uC81D\uD2B8 \uACBD\uB85C\uB294 /home/ubuntu/srv/fast-api \uC785\uB2C8\uB2E4.`),J.forEach(r),ge=i(n),x=s(n,"PRE",{class:!0});var kt=l(x);kt.forEach(r),fe=i(n),b=s(n,"P",{});var N=l(b);ve=u(N,"\uC704 \uB0B4\uC6A9\uC774 \uC815\uC0C1 \uC218\uD589\uC774 \uB418\uBA74 gobella.kr:8003 \uC73C\uB85C \uB4E4\uC5B4\uAC00 \uC798 \uB3D9\uC791\uD558\uB294\uC9C0 \uD655\uC778 \uD569\uB2C8\uB2E4."),_e=s(N,"BR",{}),me=u(N,`
\uC798 \uB3D9\uC791 \uB418\uB294\uC9C0 \uD655\uC788\uD588\uB2E4\uBA74 \uC885\uB8CC \uD6C4 Gunicorn\uC73C\uB85C \uC2E4\uD589 \uD558\uC5EC \uBD05\uC2DC\uB2E4.`),N.forEach(r),he=i(n),y=s(n,"PRE",{class:!0});var Pt=l(y);Pt.forEach(r),Ee=i(n),D=s(n,"P",{});var Xe=l(D);be=u(Xe,"\uC18C\uCF13 \uD30C\uC77C\uC5D0 \uB2E4\uC74C\uACFC \uAC19\uC740 \uB0B4\uC6A9\uC744 \uBD99\uC5EC\uB123\uAE30 \uD569\uB2C8\uB2E4."),Xe.forEach(r),ke=i(n),R=s(n,"PRE",{class:!0});var wt=l(R);wt.forEach(r),Pe=i(n),I=s(n,"P",{});var Ye=l(I);we=u(Ye,"\uADF8\uB7F0 \uB2E4\uC74C systemd\uC5D0 service\uD30C\uC77C\uC744 \uC791\uC131\uD569\uB2C8\uB2E4."),Ye.forEach(r),xe=i(n),T=s(n,"PRE",{class:!0});var xt=l(T);xt.forEach(r),ye=i(n),U=s(n,"P",{});var $e=l(U);Re=u($e,"\uADF8\uB7F0 \uB2E4\uC74C \uD558\uB2E8\uC758 \uBA85\uB839\uC5B4\uB85C gunicorn \uC18C\uCF13\uC744 \uC2DC\uC791 \uBC0F \uD65C\uC131\uD654 \uD569\uB2C8\uB2E4."),$e.forEach(r),Te=i(n),H=s(n,"PRE",{class:!0});var yt=l(H);yt.forEach(r),He=i(n),G=s(n,"P",{});var et=l(G);Le=u(et,"\uADF8\uB7F0 \uB2E4\uC74C \uB370\uBAAC \uC7AC\uC2DC\uC791\uACFC gunicorn\uC7AC\uC2DC\uC791 \uD569\uB2C8\uB2E4."),et.forEach(r),Me=i(n),L=s(n,"PRE",{class:!0});var Rt=l(L);Rt.forEach(r),qe=i(n),W=s(n,"P",{});var tt=l(W);Se=u(tt,"\uB2E4\uC74C\uC740 nginx\uC124\uC815\uC785\uB2C8\uB2E4. \uC774\uBBF8 \uC124\uCE58\uAC00 \uB418\uC5B4\uC788\uC9C0 \uC54A\uC73C\uBA74 \uC124\uCE58\uBD80\uD130 \uC9C4\uD589\uD558\uC138\uC694."),tt.forEach(r),Be=i(n),M=s(n,"PRE",{class:!0});var Tt=l(M);Tt.forEach(r),De=i(n),z=s(n,"P",{});var nt=l(z);Ie=u(nt,"fastapi.conf \uB0B4\uC6A9\uC744 \uC544\uB798\uC640 \uAC19\uC774 \uC218\uC815\uD569\uB2C8\uB2E4."),nt.forEach(r),Ue=i(n),q=s(n,"PRE",{class:!0});var Ht=l(q);Ht.forEach(r),Ge=i(n),j=s(n,"P",{});var at=l(j);We=u(at,"\uC218\uC815\uC774 \uC644\uB8CC \uB418\uC5C8\uC73C\uBA74 \uC2EC\uBCFC\uB9AD \uB9C1\uD06C\uB97C \uAC78\uC5B4 \uC90C\uB2C8\uB2E4."),at.forEach(r),ze=i(n),S=s(n,"PRE",{class:!0});var Lt=l(S);Lt.forEach(r),je=i(n),A=s(n,"P",{});var st=l(A);Ae=u(st,"sites-enabled \uD3F4\uB354 \uB0B4\uC5D0 fastapi.conf \uD30C\uC77C\uC774 \uC0DD\uC131\uB41C \uAC83\uC744 \uD655\uC778 \uD6C4 \uD558\uB2E8\uC758 \uBA85\uB839\uC5B4\uB97C \uC785\uB825 \uD558\uC5EC \uCD5C\uC885 \uD655\uC778 \uD569\uB2C8\uB2E4."),st.forEach(r),Ce=i(n),B=s(n,"PRE",{class:!0});var Mt=l(B);Mt.forEach(r),Fe=i(n),f=s(n,"P",{});var C=l(f);Ke=u(C,"\uBAA8\uB4E0 \uC791\uC5C5\uC774 \uC644\uB8CC \uB418\uC5C8\uC73C\uBBC0\uB85C gobella.kr:8003\uC73C\uB85C \uC811\uC18D\uD558\uC5EC fastapi\uB85C \uB9CC\uB4E0 restapi\uAC00 \uC798 \uB3D9\uC791\uD558\uB294\uC9C0 \uD655\uC778\uD574 \uBD05\uC2DC\uB2E4."),Oe=s(C,"BR",{}),Ve=i(C),k=s(C,"IMG",{src:!0,alt:!0,title:!0}),C.forEach(r),n.forEach(r),this.h()},h(){d(P,"class","language-undefined"),d(w,"class","language-undefined"),d(x,"class","language-undefined"),d(y,"class","language-undefined"),d(R,"class","language-undefined"),d(T,"class","language-undefined"),d(H,"class","language-undefined"),d(L,"class","language-undefined"),d(M,"class","language-undefined"),d(q,"class","language-undefined"),d(S,"class","language-undefined"),d(B,"class","language-undefined"),Dt(k.src,Qe="/img/sh48.png")||d(k,"src",Qe),d(k,"alt","\uC644\uB8CC"),d(k,"title","sh48"),d(t,"class","markdown-body")},m(p,v){F(p,g,v),e(g,Q),F(p,K,v),F(p,_,v),e(_,X),e(_,Y),F(p,O,v),F(p,t,v),e(t,$),e(t,m),e(m,ee),e(m,te),e(m,ne),e(t,ae),e(t,P),P.innerHTML=ot,e(t,se),e(t,h),e(h,re),e(h,le),e(h,oe),e(t,ie),e(t,w),w.innerHTML=it,e(t,ce),e(t,E),e(E,ue),e(E,pe),e(E,de),e(t,ge),e(t,x),x.innerHTML=ct,e(t,fe),e(t,b),e(b,ve),e(b,_e),e(b,me),e(t,he),e(t,y),y.innerHTML=ut,e(t,Ee),e(t,D),e(D,be),e(t,ke),e(t,R),R.innerHTML=pt,e(t,Pe),e(t,I),e(I,we),e(t,xe),e(t,T),T.innerHTML=dt,e(t,ye),e(t,U),e(U,Re),e(t,Te),e(t,H),H.innerHTML=gt,e(t,He),e(t,G),e(G,Le),e(t,Me),e(t,L),L.innerHTML=ft,e(t,qe),e(t,W),e(W,Se),e(t,Be),e(t,M),M.innerHTML=vt,e(t,De),e(t,z),e(z,Ie),e(t,Ue),e(t,q),q.innerHTML=_t,e(t,Ge),e(t,j),e(j,We),e(t,ze),e(t,S),S.innerHTML=mt,e(t,je),e(t,A),e(A,Ae),e(t,Ce),e(t,B),B.innerHTML=ht,e(t,Fe),e(t,f),e(f,Ke),e(f,Oe),e(f,Ve),e(f,k)},p:Je,i:Je,o:Je,d(p){p&&r(g),p&&r(K),p&&r(_),p&&r(O),p&&r(t)}}}const Ut={title:"Top todo apps",tags:["tech article"],date:"2021-02-08T00:00:00.000Z"},{title:rt,tags:zt,date:Gt}=Ut;class jt extends qt{constructor(g){super();St(this,g,null,It,Bt,{})}}export{jt as default,Ut as metadata};
